<?xml version="1.0"?>
<launch>
  <!-- Launch arguments -->
  <arg name="use_sim_time" 
       default="false" 
       description="Use simulation time" />

  <!-- ESC Motor Control Node -->
  <node pkg="esc_motor_control_python" 
        exec="esc_motor_control_node" 
        name="esc_motor_control" 
        output="screen">
    <param from="$(find-pkg-share esc_motor_control_python)/config/esc_motor_control_python.yaml" />
    <param name="use_sim_time" value="$(var use_sim_time)" />
    <param name="test_mode" value="true" />
  </node>

  <!-- ESC Motor Test Node -->
  <node pkg="esc_motor_control_python" 
        exec="esc_motor_test_node" 
        name="esc_motor_test" 
        output="screen">
    <param from="$(find-pkg-share esc_motor_control_python)/config/esc_motor_control_python.yaml" />
    <param name="use_sim_time" value="$(var use_sim_time)" />
  </node>
</launch>