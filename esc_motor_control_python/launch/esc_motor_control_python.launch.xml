<?xml version="1.0"?>
<launch>
    <!-- Launch引数の定義 -->
    <arg name="use_sim_time" default="false" description="Use simulation time" />
    <arg name="test_mode" default="false" description="Run in test mode (no actual GPIO)" />
    <arg name="joy_topic" default="joy" description="Joy topic name" />
    
    <!-- 設定ファイルパス -->
    <let name="config_file" value="$(find-pkg-share esc_motor_control_python)/config/esc_motor_control_python.yaml" />
    
    <!-- ESC Motor Control Node -->
    <node pkg="esc_motor_control_python" 
          exec="esc_motor_control_node" 
          name="esc_motor_control" 
          output="screen">
        
        <!-- パラメータの設定 -->
        <param from="$(var config_file)" />
        <param name="use_sim_time" value="$(var use_sim_time)" />
        <param name="test_mode" value="$(var test_mode)" />
        <param name="joy_topic" value="$(var joy_topic)" />
        
    </node>
</launch>
