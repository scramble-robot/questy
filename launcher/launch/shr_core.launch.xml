<?xml version="1.0" encoding="UTF-8"?>
<launch>
  <!-- Launch Arguments -->
  <arg name="use_sim_time" default="false" description="Use simulation time" />
  <arg name="enable_lidar" default="true" description="Enable YDLiDAR" />
  <arg name="enable_shot" default="true" description="Enable Shot component"/>
  <arg name="enable_drive" default="true" description="Enable drive component"/>
  <arg name="enable_rviz" default="false" description="Enable RViz visualization" />

  <group if="$(var enable_shot)">
    <include file="$(find-pkg-share shr_launcher)/launch/shot_component.launch.xml"/>
  </group>

  <group if="$(var enable_drive)">
    <include file="$(find-pkg-share shr_launcher)/launch/drive_component.launch.xml"/>
  </group>
  <group if="$(var enable_lidar)">
    <include file="$(find-pkg-share ydlidar_ros2_driver)/launch/ydlidar_launch.py"/>
  </group>
  <!-- RViz Visualization -->
  <node pkg="rviz2" exec="rviz2" name="rviz2" output="screen" if="$(var enable_rviz)" args="-d $(find-pkg-share ydlidar_ros2_driver)/config/ydlidar.rviz">
    <param name="use_sim_time" value="$(var use_sim_time)" />
  </node>

</launch>
